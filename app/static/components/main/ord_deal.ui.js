define(["../../models/OrdDealStore"], function(){
  var Ord_dealUI = Ext.extend(Ext.Container,{
    "layout": "auto",
  "autoWidth": true,
  "autoDestroy": true,
  "cls": "wrapper",
    initComponent: function(){
      Ext.applyIf(this,{
  "xtype":"container",
  "layout":"auto",
  "autoWidth":true,
  "autoDestroy":true,
  "cls":"wrapper",
  "items":[
    {
      "xtype":"fieldset",
      "layout":"anchor",
      "animCollapse":true,
      "labelAlign":"right",
      "autoHeight":true,
      "autoDestroy":true,
      "padding":5,
      "border":false,
      "items":[
        {
          "xtype":"container",
          "layout":"hbox",
          "autoWidth":true,
          "autoDestroy":true,
          "layoutConfig":{
            "pack":"start",
            "align":"stretchmax"
          },
          "defaults":{
            "margins":"0 2.5"
          },
          "items":[
            {
              "xtype":"container",
              "layout":"anchor",
              "autoWidth":true,
              "autoDestroy":true,
              "style":"{ height: 100%; margin: 0em 0em; }",
              "defaults":{
                "margins":"0 0"
              },
              "col_index":0,
              "items":[
                {
                  "xtype":"grid",
                  "title":null,
                  "columnLines":true,
                  "sm":"",
                  "selector":"row",
                  "viewConfig":{
                    "forceFit":true,
                    "emptyText":"No record"
                  },
                  "frame":false,
                  "width":"auto",
                  "loadMask":true,
                  "store":"ordDealStore",
                  "height":200,
                  "autoDestroy":true,
                  "cls":"ord-deal-store",
                  "margin":5,
                  "plugins":[
                    {
                      "xclass":"Ext.plugin.MultiSortGrid"
                    }
                  ],
                  "features":[
                    {
                      "ftype":"groupingsummary"
                    }
                  ],
                  "columns":[
                    {
                      "xtype":"rownumberer",
                      "width":50,
                      "header":"#",
                      "sortable":false,
                      "autoDestroy":true
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Client Code",
                      "dataIndex":"client_code",
                      "sortable":false,
                      "autoDestroy":true,
                      "locked":true,
                      "cmp_id":"clientCode"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Client Account Id",
                      "dataIndex":"client_account_id",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"clientAccountId"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Ord Id",
                      "dataIndex":"ord_id",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"ordId"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Deal Id",
                      "dataIndex":"deal_id",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"dealId"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Market",
                      "dataIndex":"market",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"market"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Broker No",
                      "dataIndex":"broker_no",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"brokerNo"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Sb No",
                      "dataIndex":"sb_no",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"sbNo"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Sb Order No",
                      "dataIndex":"sb_order_no",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"sbOrderNo"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Branch Code",
                      "dataIndex":"branch_code",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"branchCode"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Order No",
                      "dataIndex":"order_no",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"orderNo"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"X Order No",
                      "dataIndex":"x_order_no",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"xOrderNo"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"X Match No",
                      "dataIndex":"x_match_no",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"xMatchNo"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Confirm No",
                      "dataIndex":"confirm_no",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"confirmNo"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Securities Id",
                      "dataIndex":"securities_id",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"securitiesId"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Sec Symbol",
                      "dataIndex":"sec_symbol",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"secSymbol"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Trustee Id",
                      "dataIndex":"trustee_id",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"trusteeId"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Side",
                      "dataIndex":"side",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"side"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Board",
                      "dataIndex":"board",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"board"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Price",
                      "dataIndex":"price",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"price"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Condition Price",
                      "dataIndex":"condition_price",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "summaryType":"max",
                      "cmp_id":"conditionPrice"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Matched Price",
                      "dataIndex":"matched_price",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"matchedPrice"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Qty",
                      "dataIndex":"qty",
                      "width":"auto",
                      "autoDestroy":true,
                      "summaryType":"sum",
                      "cmp_id":"qty"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Confirm Qty",
                      "dataIndex":"confirm_qty",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"confirmQty"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Order Status",
                      "dataIndex":"order_status",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"orderStatus"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Condition",
                      "dataIndex":"condition",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"condition"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Order Type",
                      "dataIndex":"order_type",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"orderType"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Special Order Type",
                      "dataIndex":"special_order_type",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"specialOrderType"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Basket No",
                      "dataIndex":"basket_no",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"basketNo"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Pc Flag",
                      "dataIndex":"pc_flag",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"pcFlag"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Pt Type",
                      "dataIndex":"pt_type",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"ptType"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Sbl Type",
                      "dataIndex":"sbl_type",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"sblType"
                    },
                    {
                      "xtype":"datecolumn",
                      "format":"d/m/Y",
                      "header":"Order Date",
                      "dataIndex":"order_date",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"orderDate"
                    },
                    {
                      "xtype":"datecolumn",
                      "format":"d/m/Y",
                      "header":"Order Date Time",
                      "dataIndex":"order_date_time",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"orderDateTime"
                    },
                    {
                      "xtype":"datecolumn",
                      "format":"d/m/Y",
                      "header":"Cancel Date Time",
                      "dataIndex":"cancel_date_time",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"cancelDateTime"
                    },
                    {
                      "xtype":"datecolumn",
                      "format":"d/m/Y",
                      "header":"Change Date Time",
                      "dataIndex":"change_date_time",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"changeDateTime"
                    },
                    {
                      "xtype":"datecolumn",
                      "format":"d/m/Y",
                      "header":"Deal Date",
                      "dataIndex":"deal_date",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"dealDate"
                    },
                    {
                      "xtype":"datecolumn",
                      "format":"d/m/Y",
                      "header":"Deal Time",
                      "dataIndex":"deal_time",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"dealTime"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Ae Code",
                      "dataIndex":"ae_code",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"aeCode"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Front User Code",
                      "dataIndex":"front_user_code",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"frontUserCode"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Cancel User Code",
                      "dataIndex":"cancel_user_code",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"cancelUserCode"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Approve User Code",
                      "dataIndex":"approve_user_code",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"approveUserCode"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Set Trader Id",
                      "dataIndex":"set_trader_id",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"setTraderId"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Channel Code",
                      "dataIndex":"channel_code",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"channelCode"
                    },
                    {
                      "xtype":"gridcolumn",
                      "header":"Front Trading System",
                      "dataIndex":"front_trading_system",
                      "sortable":false,
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"frontTradingSystem"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Net Amount",
                      "dataIndex":"net_amount",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"netAmount"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Commission",
                      "dataIndex":"commission",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"commission"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Fee",
                      "dataIndex":"fee",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"fee"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Clearing Fee",
                      "dataIndex":"clearing_fee",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"clearingFee"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Trading Fee",
                      "dataIndex":"trading_fee",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"tradingFee"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Settlement Fee",
                      "dataIndex":"settlement_fee",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"settlementFee"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Vat",
                      "dataIndex":"vat",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"vat"
                    },
                    {
                      "xtype":"numbercolumn",
                      "align":"right",
                      "sortable":false,
                      "format":"0,000",
                      "header":"Withholding Tax",
                      "dataIndex":"withholding_tax",
                      "width":"auto",
                      "autoDestroy":true,
                      "cmp_id":"withholdingTax"
                    },
                    {
                      "xtype":"booleancolumn",
                      "trueText":"yes",
                      "falseText":"no",
                      "align":"center",
                      "width":"auto",
                      "header":"Manual Commission Flag",
                      "dataIndex":"manual_commission_flag",
                      "sortable":false,
                      "autoDestroy":true,
                      "cmp_id":"manualCommissionFlag"
                    }
                  ],
                  "tbar":{
                    "xtype":"toolbar",
                    "autoDestroy":true,
                    "items":[
                      {
                        "xtype":"button",
                        "text":"PDF",
                        "autoDestroy":true,
                        "cmp_id":"exportPdf"
                      },
                      {
                        "xtype":"button",
                        "text":"CSV",
                        "autoDestroy":true,
                        "cmp_id":"exportCsv"
                      },
                      {
                        "xtype":"button",
                        "text":"EXCEL",
                        "autoDestroy":true,
                        "cmp_id":"exportXlsx"
                      },
                      {
                        "xtype":"tbfill",
                        "autoDestroy":true
                      },
                      {
                        "xtype":"button",
                        "text":">",
                        "autoDestroy":true,
                        "title":"Expand",
                        "cmp_id":"expand"
                      }
                    ]
                  },
                  "bbar":{
                    "xtype":"pagingtoolbar",
                    "start":0,
                    "limit":20,
                    "displayInfo":true,
                    "dock":"bottom",
                    "displayMsg":"Displaying {0} - {1} of {2}",
                    "autoDestroy":true,
                    "pageSize":100,
                    "store":"ordDealStore"
                  },
                  "cmp_id":"grd"
                }
              ]
            },
            {
              "xtype":"container",
              "layout":"anchor",
              "autoWidth":true,
              "autoDestroy":true,
              "style":"{ height: 100%; margin: 0em 0em; }",
              "defaults":{
                "margins":"0 0"
              },
              "col_index":1,
              "items":[
                {
                  "xtype":"form",
                  "autoHeight":true,
                  "layout":"anchor",
                  "border":false,
                  "autoDestroy":true,
                  "labelWidth":10,
                  "fbar":{
                    "xtype":"toolbar",
                    "autoDestroy":true,
                    "items":[
                      {
                        "xtype":"button",
                        "text":"Search",
                        "autoDestroy":true,
                        "cmp_id":"search"
                      },
                      {
                        "xtype":"button",
                        "text":"Clear Filter",
                        "autoDestroy":true,
                        "cmp_id":"clearFilter"
                      }
                    ]
                  },
                  "cmp_id":"frmFilter",
                  "items":[
                    {
                      "xtype":"fieldset",
                      "layout":"anchor",
                      "animCollapse":true,
                      "labelAlign":"right",
                      "autoHeight":true,
                      "title":"Filter",
                      "autoDestroy":true,
                      "border":true,
                      "width":420,
                      "defaults":{
                        "labelWidth":132
                      },
                      "cmp_id":"filter",
                      "items":[
                        {
                          "xtype":"textfield",
                          "labelAlign":"right",
                          "autoDestroy":true,
                          "submitValue":true,
                          "name":"sec_symbol_eq",
                          "emptyText":"Sec Symbol Eq",
                          "fieldLabel":"Sec Symbol Eq",
                          "cmp_id":"secSymbolEq"
                        },
                        {
                          "xtype":"fieldcontainer",
                          "layout":"hbox",
                          "defaultType":"textfield",
                          "labelAlign":"right",
                          "autoDestroy":true,
                          "text":"Open Date",
                          "submitValue":true,
                          "name":"order_date",
                          "fieldLabel":"Order Date",
                          "cmp_id":"orderDate",
                          "items":[
                            {
                              "xtype":"datefield",
                              "labelAlign":"right",
                              "format":"d/m/Y",
                              "cls":"date",
                              "autoDestroy":true,
                              "name":"order_date_gte",
                              "width":120,
                              "submitValue":true,
                              "cmp_id":"orderDateSince"
                            },
                            {
                              "xtype":"splitter",
                              "autoDestroy":true
                            },
                            {
                              "xtype":"datefield",
                              "labelAlign":"right",
                              "format":"d/m/Y",
                              "cls":"date",
                              "autoDestroy":true,
                              "name":"order_date_lte",
                              "width":120,
                              "submitValue":true,
                              "cmp_id":"orderDateUntil"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
});
      Ord_dealUI.superclass.initComponent.call(this);
      var self = this;
      
      // manually make auto ref
      Ext.each(self.query('*'), function(element, index){
        if(element.cmp_id) {
          self["_" + element.cmp_id] = element;
        }
      });
    }
  });

  return Ord_dealUI;
});